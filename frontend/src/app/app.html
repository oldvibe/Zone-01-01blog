<header class="app-header d-flex justify-content-between align-items-center px-4 py-3 border-bottom bg-white sticky-top">
  <div class="brand d-flex align-items-center gap-2" style="cursor: pointer;" routerLink="/">
    <div class="brand-logo" style="width: 40px; height: 40px; background: var(--primary-gradient); border-radius: 12px; display: grid; place-items: center; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);">
      <i class="bi bi-lightning-charge-fill text-white h5 mb-0"></i>
    </div>
    <span class="fw-bold h4 mb-0 tracking-tight" style="color: var(--ink);">01Blog</span>
  </div>

  <nav class="app-nav d-none d-lg-flex align-items-center gap-2" *ngIf="isLoggedIn()">
    <a routerLink="/posts" routerLinkActive="is-active" class="nav-link">
      <i class="bi bi-house-door me-2"></i>Feed
    </a>
    <a routerLink="/explore" routerLinkActive="is-active" class="nav-link">
      <i class="bi bi-compass me-2"></i>Explore
    </a>
    <a routerLink="/notifications" routerLinkActive="is-active" class="nav-link position-relative">
      <i class="bi bi-bell me-2"></i>Notifications
      <span *ngIf="unreadCount() > 0" class="badge bg-danger position-absolute top-0 start-100 translate-middle p-1 rounded-circle" style="font-size: 0.6rem; min-width: 18px;">{{ unreadCount() }}</span>
    </a>
    <a routerLink="/profile" routerLinkActive="is-active" class="nav-link">
      <i class="bi bi-person me-2"></i>Profile
    </a>
    <div class="vr mx-2 text-secondary opacity-25"></div>
    <a routerLink="/settings" routerLinkActive="is-active" class="nav-link">
      <i class="bi bi-gear"></i>
    </a>
    <a *ngIf="isAdmin()" routerLink="/admin" routerLinkActive="is-active" class="btn btn-sm btn-danger ms-2 px-3">Admin</a>
    <button (click)="logout()" class="btn btn--ghost ms-2 text-danger">
      <i class="bi bi-box-arrow-right me-2"></i>Logout
    </button>
  </nav>

  <nav class="app-nav d-flex gap-2" *ngIf="!isLoggedIn()">
    <a routerLink="/login" class="btn btn--ghost px-4">Login</a>
    <a routerLink="/register" class="btn btn-primary px-4">Get Started</a>
  </nav>

  <!-- Mobile Nav Trigger (Simple version) -->
  <button class="btn btn--ghost d-lg-none" *ngIf="isLoggedIn()">
    <i class="bi bi-list h4 mb-0"></i>
  </button>
</header>

<main class="app-main">
  <router-outlet />
</main>

<footer class="py-5 mt-5 border-top bg-white">
  <div class="container text-center">
    <p class="text-ink-soft small mb-0">© 2026 01Blog • The student blogging community.</p>
  </div>
</footer>
