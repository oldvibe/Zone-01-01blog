<div class="auth-wrapper d-flex w-100">
  <aside class="image-side d-none d-lg-block position-relative">
    <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuAIU7mGsXXSzFBXxI3XqWDv6mVUOAwF7H3i9vlpHa1_wlpqCnuQ3HWD2NFwHs4V5B6eMYZeOWC5P_3WGdueuPEUVnNhVsQ2z9rfY_E8VtlbCmPA-TwXRUok6rCBjWElNbBHQUokBYwPPjPX5Yz50-FTUtjKwoHGRWMZfZ-Qmdo2gzWuFYxvaubXIOUiBTPgwJxdoYd9wMYvY01BwliX0Sw2s7gSWcHJnAcC5kn9l-hKQ7mG8hh2KSfR6757D_S2W6_6piKwaGLmHso" alt="artwork"/>
    <div class="image-overlay"></div>
    <div class="image-overlay-top"></div>
    <div class="blob s1"></div>
    <div class="blob s2"></div>

    <div class="position-absolute top-0 start-0 p-4 text-white">
      <div class="brand mb-4">
        <div class="logo"><i class="bi bi-lightning-charge-fill"></i></div>
        <h4 class="mb-0">JJK BLOG</h4>
      </div>
    </div>

    <div class="position-absolute bottom-0 start-0 p-4 text-white" style="max-width:360px;">
      <small class="text-uppercase text-warning fw-bold" style="letter-spacing:.12em;">Exclusive Access</small>
      <h2 style="font-family:'Space Grotesk',sans-serif; font-size:34px; margin-top:.5rem; line-height:1.02;">Master the Cursed Energy of the Modern Web.</h2>
      <p class="muted-sm mt-2">Join the elite community of fans &amp; creators.</p>
    </div>
  </aside>

  <main class="form-side d-flex align-items-center justify-content-center w-100 p-4">
    <div class="auth-card mx-auto">
      <div class="d-lg-none mb-4 d-flex align-items-center gap-3">
        <div class="logo"><i class="bi bi-lightning-charge-fill"></i></div>
        <h4 class="mb-0">JJK BLOG</h4>
      </div>

      <header class="mb-4 text-center text-lg-start">
        <h2 style="font-family:'Space Grotesk',sans-serif; font-weight:800;">Welcome back</h2>
        <p class="muted-sm mb-0">Sign in to continue your writing journey.</p>
      </header>

      <form [formGroup]="form" (ngSubmit)="login()">
        <div class="mb-3">
          <label for="email" class="form-label small text-muted">Email</label>
          <div class="input-group flex-nowrap">
            <span class="input-group-text icon-wrap" id="email-addon"><i class="bi bi-envelope"></i></span>
            <input id="email" type="email" class="form-control input-focus-glow rounded-3" placeholder="you@email.com" formControlName="email" aria-describedby="email-addon" aria-invalid="{{ form.get('email')?.invalid && form.get('email')?.touched }}" />
          </div>
          <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="invalid-feedback d-block">
            <small *ngIf="form.get('email')?.errors?.['required']">Email is required.</small>
            <small *ngIf="form.get('email')?.errors?.['email']">Enter a valid email.</small>
          </div>
        </div>

        <div class="mb-3">
          <div class="d-flex justify-content-between align-items-center mb-1">
            <label for="password" class="form-label small text-muted mb-0">Password</label>
            <a routerLink="/auth/forgot" class="small fw-semibold" style="color:var(--primary); text-decoration:none;">Forgot password?</a>
          </div>
          <div class="input-group flex-nowrap">
            <span class="input-group-text icon-wrap" id="password-addon"><i class="bi bi-lock"></i></span>
            <input id="password" [type]="showPassword ? 'text' : 'password'" class="form-control input-focus-glow rounded-3" placeholder="Your password" formControlName="password" aria-describedby="password-addon" aria-invalid="{{ form.get('password')?.invalid && form.get('password')?.touched }}" />
            <button class="btn btn-outline-secondary btn-icon" type="button" aria-pressed="{{showPassword}}" (click)="togglePassword()" aria-label="Toggle password visibility"><i [class]="showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"></i></button>
          </div>
          <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched" class="invalid-feedback d-block">
            <small>Password is required.</small>
          </div>
        </div>

        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" value="" id="remember" />
          <label class="form-check-label small text-muted" for="remember">Stay logged in for 30 days</label>
        </div>

        <button class="btn btn-gradient w-100 py-3 mb-3" type="submit" [disabled]="submitting || form.invalid"> 
          <span class="me-2">{{ submitting ? 'Signing in...' : 'Login' }}</span>
          <i class="bi bi-box-arrow-in-right"></i>
        </button>
      </form>

      <div class="d-flex align-items-center my-3">
        <div class="divider me-3"></div>
        <small class="text-uppercase text-muted">Or login with</small>
        <div class="divider ms-3"></div>
      </div>

      <div class="row g-2">
        <div class="col-6">
          <button class="social-btn w-100" type="button">
            <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuCVIGLD2HLYnyYywU-CBULfrjzGHCZ3G7i3B5Cj7RlFZRtoz9ulKb1keaK1RrYwy3ttNHy1MFoFytWO2CoKFinE5PwETlxAIRA5wdXca10vGLibjYKrB6gHjfmldlj_D9VxOf5ReY3ezokpJT5REEflYhdLoeHOfvCp_42GgRc75u02IvS1fQfYaLY9L31VJQdHN4E2K39XCAtIoph1lyIX8VyMCB99OAnj6VHtvvaHub4pNX-DnBVPnWMPoB5RZblasHzG-vvJTSM" alt="Google" width="20" height="20"/>
            <span class="small">Google</span>
          </button>
        </div>
        <div class="col-6">
          <button class="social-btn w-100" type="button">
            <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuAjDn9-8Q1Vt0NS-NmVEn9dxBoRSLzRWxYP8q5x7ZmOCL0i3iya4rqL2k_rGHUx9QPXTi8av8QrYgPGda0V1_silPVLbk4OX5KDu5-OrVtNRg3UI03--_RaUZf62BTY-VflO7Bx32NwwRqW1Xw7O2PdhkG72qeKByeC8pBw0TMvrhNFY7JaYwKO7jEhMuSqzwhyHsFVHQPPmez_9Ui1LUl7fYfs4s3c4a0K2-RyH9ocTkMRJ8Gsh5oFriKvtagtQG0D9T2CpAz1oXY" alt="Facebook" width="20" height="20"/>
            <span class="small">Facebook</span>
          </button>
        </div>
      </div>

      <p class="text-center muted-sm mt-4 mb-0">New here? <a routerLink="/register" class="fw-bold" style="color:var(--primary);">Create an account</a></p>

      <footer class="small text-center mt-3">© 2024 Anime Blog Platform • Built for Fans</footer>
    </div>
  </main>
</div>

<p *ngIf="errorMessage" class="text-danger text-center mt-3">{{ errorMessage }}</p>
