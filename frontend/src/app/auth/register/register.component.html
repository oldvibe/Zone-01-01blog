<div class="auth-wrapper d-flex min-vh-100">
  <aside class="image-side d-none d-lg-flex flex-column justify-content-center p-5 text-white position-relative overflow-hidden" 
         style="flex: 0 0 40%; background: var(--primary-gradient);">
    <div class="position-absolute top-0 start-0 p-5">
      <div class="brand d-flex align-items-center gap-2">
        <div class="bg-white text-primary rounded-3 p-2 d-grid place-items-center" style="width: 40px; height: 40px;">
          <i class="bi bi-lightning-charge-fill h5 mb-0"></i>
        </div>
      </div>
    </div>

    <div class="auth-content mt-5">
      <h1 class="display-5 fw-bold mb-4">Join the community of student creators.</h1>
      <p class="lead opacity-75">Start your digital journal today and connect with peers from around the world.</p>
    </div>
    
    <div class="blob position-absolute" style="bottom: -100px; left: -100px; width: 300px; height: 300px; background: rgba(255,255,255,0.1); border-radius: 50%; filter: blur(60px);"></div>
  </aside>

  <main class="form-side d-flex align-items-center justify-content-center flex-grow-1 p-4 bg-white">
    <div class="auth-card w-100" style="max-width: 480px;">
      <header class="mb-5">
        <h2 class="fw-bold text-ink h1 mb-2">Create Account</h2>
        <p class="text-muted">Start documenting your path to excellence.</p>
      </header>

      <form [formGroup]="form" (ngSubmit)="register()" class="d-grid gap-3">
        <div class="form-group">
          <label class="form-label small fw-bold text-uppercase">Username</label>
          <input type="text" class="form-control" placeholder="Choose a handle" formControlName="fullName">
        </div>

        <div class="form-group">
          <label class="form-label small fw-bold text-uppercase">Email Address</label>
          <input type="email" class="form-control" placeholder="name@school.com" formControlName="email">
        </div>

        <div class="row g-3">
          <div class="col-md-6">
            <div class="form-group">
              <label class="form-label small fw-bold text-uppercase">Password</label>
              <input [type]="showPassword ? 'text' : 'password'" class="form-control" placeholder="••••••••" formControlName="password">
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label class="form-label small fw-bold text-uppercase">Confirm</label>
              <input [type]="showConfirm ? 'text' : 'password'" class="form-control" placeholder="••••••••" formControlName="confirm">
            </div>
          </div>
        </div>

        <div class="form-check my-2">
          <input class="form-check-input" type="checkbox" id="agree" formControlName="agree">
          <label class="form-check-label small text-muted" for="agree">
            I agree to the <a href="#" class="text-decoration-none">Community Guidelines</a>.
          </label>
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger smaller p-2 rounded-3 border-0 bg-danger bg-opacity-10 text-danger mb-0">
          <i class="bi bi-info-circle me-2"></i>{{ errorMessage }}
        </div>

        <button class="btn btn-primary py-3 mt-3" type="submit" [disabled]="form.invalid || submitting">
          <span *ngIf="submitting" class="spinner-border spinner-border-sm me-2"></span>
          {{ submitting ? 'Creating your account...' : 'Get Started Now' }}
        </button>
      </form>

      <div class="text-center mt-5 pt-4 border-top">
        <p class="text-muted small">Already have an account? <a routerLink="/login" class="text-primary fw-bold text-decoration-none">Sign in</a></p>
      </div>
    </div>
  </main>
</div>
